#!/bin/zsh
# A startup script for this flutter project
#   updates project, then
#   it upgrades flutter, runs flutter doctor, gets and upgrades packages, and cleans the project

printf "1/7 git pull...\n"
printf "--------------------------------------------------------------------------------------------\n"
# git pull
printf "--------------------------------------------------------------------------------------------\n"
printf "2/7 flutter upgrade...\n"
printf "--------------------------------------------------------------------------------------------\n"
# flutter upgrade
printf "--------------------------------------------------------------------------------------------\n"
printf "3/7  flutter clean...\n"
printf "--------------------------------------------------------------------------------------------\n"
flutter clean
printf "--------------------------------------------------------------------------------------------\n"
printf "4/7 flutter doctor...\n"
printf "--------------------------------------------------------------------------------------------\n"
flutter doctor
printf "--------------------------------------------------------------------------------------------\n"
printf "5/7 flutter pub get...\n"
printf "--------------------------------------------------------------------------------------------\n"
flutter pub get
printf "--------------------------------------------------------------------------------------------\n"
printf "6/7 flutter pub upgrade...\n"
printf "--------------------------------------------------------------------------------------------\n"
flutter pub upgrade
printf "--------------------------------------------------------------------------------------------\n"
printf "7/7 flutter pub run build_runner build --delete-conflicting-outputs...\n"
printf "Note: This makes sure the current serialization settings will play nicely\n"
printf "--------------------------------------------------------------------------------------------\n"
flutter pub run build_runner build --delete-conflicting-outputs
printf "--------------------------------------------------------------------------------------------\n"


